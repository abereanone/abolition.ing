---
import { siteSettings } from "@/config/siteSettings";

const { questions, startIndex = 0 } = Astro.props;
const showQuestionId = siteSettings.showQuestionId;
const baseIndex =
  typeof startIndex === "number" && Number.isFinite(startIndex) ? Math.max(0, Math.floor(startIndex)) : 0;
---
<ul class="question-list">
  {questions.map((q, index) => {
    const fallbackId = baseIndex + index + 1;
    const displayId = typeof q.id === "number" ? q.id : fallbackId;
    return (
    <li>
      <a class="question-card card-panel" href={`/questions/${q.slug}`}>
        {showQuestionId ? (
          <span class="question-id">#{displayId}</span>
        ) : null}
        <span class="question-title">{q.title}</span>
      </a>
    </li>
    );
  })}
</ul>
