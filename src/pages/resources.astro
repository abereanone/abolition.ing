---
import Main from "@/layouts/Main.astro";
import { listAuthors } from "@/lib/questions";

const authors = listAuthors();
---

<Main title="Resources - abolition.ing">
  <h1>Resources & Contributors</h1>
  {authors.length ? (
    <ul class="resource-grid">
      {authors.map((author) => (
        <li class="resource-card card-panel">
          <h2>{author.name}</h2>
          {author.title ? <p class="resource-title">{author.title}</p> : null}
          {author.bio ? <p class="resource-bio">{author.bio}</p> : null}

          <div class="resource-actions">
            {typeof author.count === "number" && author.count > 0 ? (
              <a class="resource-link" href={`/authors/${author.id}`}>
                View Answers ({author.count})
              </a>
            ) : null}
            {author.url ? (
              <a
                class="resource-link"
                href={author.url}
                target="_blank"
                rel="noopener noreferrer"
              >
                Visit website
              </a>
            ) : null}
          </div>
        </li>
      ))}
    </ul>
  ) : (
    <p><em>No resources available yet.</em></p>
  )}
</Main>
