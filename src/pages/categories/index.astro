---
import Main from "@/layouts/Main.astro";
import { listCategories } from "@/lib/questions";
import { siteSettings } from "@/config/siteSettings";

const categoryIndex = listCategories();
const siteName = siteSettings.branding.siteName;
---

<Main title={`Categories - ${siteName}`}>
  <h1>Categories</h1>
  {categoryIndex.length ? (
    <ul class="category-grid">
      {categoryIndex.map((category) => (
        <li>
          <a class="category-card card-panel" href={`/categories/${category.id}`}>
            <span class="category-name">{category.name}</span>
            <span class="category-count">
              {category.count === 1 ? "1 question" : `${category.count} questions`}
            </span>
          </a>
        </li>
      ))}
    </ul>
  ) : (
    <p><em>No categories available yet.</em></p>
  )}
</Main>
